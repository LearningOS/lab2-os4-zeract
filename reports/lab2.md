### 实现功能
重写`sys_get_time`和`sys_task_info`，使用虚拟地址后，无法直接访问，需要将所给的虚拟地址映射到物理地址进行数据修改。
对于`sys_mmap`，先获取当前任务所对应的`MemorySet`，根据输入的起始地址和长度，检查是否存在已经被映射的页，然后在`MemorySet`中插入相应地址。
对于`sys_munmap`，先获取当前任务所对应的`MemorySet`，根据输入的起始地址和长度，对这个区间的每一个页面，去`MemorySet`中寻找该页面并取消映射。
### 简答作业

1.SV39页表页表项\[7:0]最低的8位为标志位，\[53:10]这44位为物理页号，标志位的含义如下：
- 第0位为表示页表项是否合法
- 第1位表示页表项是否可读
- 第2位表示页表项是否可写
- 第3位表示页表项是否可以取指
- 第4位表示页表项是否可以在CPU处于U特权级的情况下被访问
- 第6位表示自从页表项上的这一位被清零后，页表项的对应虚拟页面是否被访问过
- 第7位表示自从页表项上的这一位被清零后，页表项的对应虚拟页表是否被修改过

2.
- 当Exception Code 为12`InstructionPageFault`，15`StorePageFault`，13`LoadPageFault`时，这些异常可能是由缺页导致的。
- 相关的重要寄存器有`scause`、`sstatus`、`stvec`、`sscratch`、`sepc`、`stval`，`scause`记录发生异常的种类，`sstatus`记录当前CPU的特权级，`stvec`记录trap的入口地址，`sscratch`指向内核栈的地址，`sepc`记录当前指令的下一条指令，便于trap之后返回，`stval`保存缺页异常的虚拟地址。
- 对于有些页分配完并没有进行使用，占据内存，`lazy`策略用时才分配可以减少这种情况发生。
- 处理10G连续的内存页面，对应的SV39页表大致占用10G/512=20M内存
- 对于lazy策略的实现，分配内存时只是进行记录而不分配，到需要使用内存时，在异常处理中再进行分配。
- 页面失效将页表项的标志位V(Valid)设置为0。

3.
- 在单页表情况下，通过更改根节点的物理页号来切换页表
- 将页面的标志位U设置为0来使用户态无法访问内核页面
- 单页表用户态和内核态切换方便，不需要进行页表切换，节省内存空间，每个线程只需要一张页表
- 双页表实现下，在内核态和用户态切换和用户线程切换需要更换页表。我写一个单页表操作系统，我会在用户线程切换时更换页表。
